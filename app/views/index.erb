
<br/>

<form action="send_message" method="post">
  <div class="form-field-50">
    <label for="account_id">Account id</label>
    <input type="text" name="account_id" value="<%= account[:account_id] %>">
  </div>

  <div class="form-field-50">
    <label for="auth_id">Auth id</label>
    <input type="text" name="auth_id" value="<%= account[:auth_id] %>">
  </div>
  <div class="form-field-50">
    <label for="from_number">From Number</label>
    <input type="text" name="from_number" value="<%= account[:from_number] %>">
  </div>
  <div class="form-field-50">
    <label for="to_number">To Number</label>
    <input type="text" name="to_number" value="<%= account[:to_number] %>">
  </div>
  <div class="form-field-200">
    <label for="body"></label>
    <textarea name="body" placeholder="Type your message ..."><%= account[:body] %></textarea>
  </div>
  <div class="form-field-50">
    <input class="button-success" type="submit" value="Send">
  </div>
</form>

<br/>

<div>
  <%= render_erb_partial :"partials/refresh_form", locals: {account: account} %>

  <% if defined?(message_list) %>
    <%= render_erb_partial :"partials/message_list", locals: {message_list: message_list} %>
  <% end %>
</div>


<script>
  ["account_id", "auth_id", "from_number", "to_number", "body"].map(function(name){
    var elements= document.getElementsByName(name);
    for (i in elements) {
      elements[i].onblur = update_similar_elements;
      // elements[i].onblur = function(){alert(this.name)}
    }
  })

  function update_similar_elements() {
    console.log(this);
    var name= this.name;
    var similarElements = document.getElementsByName(name);
    for (i in similarElements) {
      similarElements[i].value = this.value;
    }
  }
</script>
